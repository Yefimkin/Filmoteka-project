{"mappings":"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","sources":["src/js/button-container.js","src/js/libraryTest.js"],"sourcesContent":["const refs = {\n    watchedBtnLibrary: document.querySelector('.watched-button'),\n    queueBtnLibrary: document.querySelector('.queue-button'),\n}\n\nrefs.watchedBtnLibrary.addEventListener('click', showWatchedList);\nrefs.queueBtnLibrary.addEventListener('click', showQueueList);\n\n\nfunction showWatchedList() {\n  refs.watchedBtnLibrary.classList.add('activeBtn');\n  refs.queueBtnLibrary.classList.remove('activeBtn');\n  refs.gallery.innerHTML = '';\n  const watchedArray = localStorageUtil.getWatched();\n  console.log(watchedArray);\n\n  watchedArray.map(id =>\n    apiService.fetchAllInfoAboutFilm(id).then(response => {\n      renderWatchedList(response);\n    }),\n  );\n}\n\nfunction showQueueList() {\n  refs.watchedBtnLibrary.classList.remove('activeBtn');\n  refs.queueBtnLibrary.classList.add('activeBtn');\n  refs.gallery.innerHTML = '';\n  const queueArray = localStorageUtil.getQueue();\n\n  queueArray.map(id =>\n    apiService.fetchAllInfoAboutFilm(id).then(response => {\n      renderQueueList(response);\n    }),\n  );\n}","import { FilmApiService } from \"./filmApiService\";\nimport { readLocalStorage, checkIdInLocalStorage } from \"./localStorage\";\nimport generateCards from \"./renderCards\";\nimport onClickFilm from \"./modal\";\n\n\n//   readLocalStorage,\n//   checkIdInLocalStorage,\n//   addIdToLocalStorage,\n//   removeIdFromLocalStorage,\n\nconst refs = {\n    filmList: document.querySelector('.films-list'),\n    watchesBtn: document.querySelector('.watched-button'),\n    queueBtn: document.querySelector('.queue-button'),\n}\n\nconst keyWatched = 'watched';\nconst keyQueue = 'queue';\nconst filmApiService = new FilmApiService();\n\nrefs.watchesBtn.addEventListener('click', showWatchedFilms);\nrefs.queueBtn.addEventListener('click', showQueueFilms);\nrefs.filmList.addEventListener('click', onClickFilm);\n\n\nasync function showWatchedFilms() {\n    const watchedFilms = readLocalStorage(keyWatched);\n    refs.filmList.innerHTML = '';\n\n    if (!watchedFilms || watchedFilms.length === 0) {\n        console.log(\"You have not watched films\");\n        return;\n    }\n\n    const arrayOfPromises = watchedFilms.map(async film => {\n        console.log(film)\n        filmApiService.ID = film;\n        const response = await filmApiService.fetchMovieByID();\n        return response;\n    })\n\n    const users = await Promise.all(arrayOfPromises);\n\n    const responceGenres = await filmApiService.fetchGenres()\n    const genresArray = responceGenres.genres;\n    refs.filmList.innerHTML = generateCards(users, genresArray);\n}\n\nshowWatchedFilms();\n\nasync function showQueueFilms() {\n    const watchedFilms = readLocalStorage(keyQueue);\n    refs.filmList.innerHTML = '';\n\n    if (!watchedFilms || watchedFilms.length === 0) {\n        console.log(\"You have not watched films\");\n        return;\n    }\n\n    const arrayOfPromises = watchedFilms.map(async film => {\n        filmApiService.ID = film;\n        const response = await filmApiService.fetchMovieByID();\n        return response;\n    })\n\n    const users = await Promise.all(arrayOfPromises);\n\n    const responceGenres = await filmApiService.fetchGenres();\n    const genresArray = responceGenres.genres;\n    refs.filmList.innerHTML = generateCards(users, genresArray);\n\n}"],"names":["$2e890facab2de1cd$var$refs","watchedBtnLibrary","document","querySelector","queueBtnLibrary","addEventListener","classList","add","remove","gallery","innerHTML","watchedArray","localStorageUtil","getWatched","console","log","map","id","apiService","fetchAllInfoAboutFilm","then","response","renderWatchedList","getQueue","renderQueueList","$bpxeT","parcelRequire","$faa731e872a1bd4c$var$refs","filmList","watchesBtn","queueBtn","$faa731e872a1bd4c$var$keyWatched","$faa731e872a1bd4c$var$keyQueue","$faa731e872a1bd4c$var$filmApiService","$kRR9w","FilmApiService","$faa731e872a1bd4c$var$showWatchedFilms","$faa731e872a1bd4c$var$_showWatchedFilms","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee1","watchedFilms","arrayOfPromises","users","responceGenres","genresArray","$UL92Z","readLocalStorage","length","_callee","film","ID","fetchMovieByID","_ctx","sent","Promise","all","_ctx1","fetchGenres","genres","$5rOqX","default","$faa731e872a1bd4c$var$_showQueueFilms","_callee2","_ctx2","$5xtVg"],"version":3,"file":"library.208f9c24.js.map"}